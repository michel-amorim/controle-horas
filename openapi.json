{
  "openapi": "3.0.0",
  "paths": {
    "/projeto": {
      "post": {
        "operationId": "ProjetoController_adicionar",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/AdicionarProjetoDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/Projeto" } }
            }
          }
        },
        "summary": "Cadastra um projeto.",
        "tags": ["Projeto"]
      },
      "get": {
        "operationId": "ProjetoController_listar",
        "parameters": [],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "type": "array", "items": { "$ref": "#/components/schemas/Projeto" } }
              }
            }
          }
        },
        "summary": "Lista todos os projetos.",
        "tags": ["Projeto"]
      }
    },
    "/projeto/{id}": {
      "get": {
        "operationId": "ProjetoController_encontrar",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/Projeto" } }
            }
          }
        },
        "summary": "Obtem detalhes de um projeto.",
        "tags": ["Projeto"]
      }
    },
    "/projeto/{id}/fechar": {
      "patch": {
        "operationId": "ProjetoController_fechar",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/Projeto" } }
            }
          }
        },
        "summary": "Altera um projeto para fechado.",
        "tags": ["Projeto"]
      }
    },
    "/projeto/{id}/abrir": {
      "patch": {
        "operationId": "ProjetoController_abrir",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/Projeto" } }
            }
          }
        },
        "summary": "Altera um projeto para aberto.",
        "tags": ["Projeto"]
      }
    },
    "/projeto/{projetoId}/atividades": {
      "get": {
        "operationId": "ProjetoController_listarAtividades",
        "parameters": [
          { "name": "projetoId", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "type": "array", "items": { "$ref": "#/components/schemas/Atividade" } }
              }
            }
          }
        },
        "summary": "Lista atividades de um projeto.",
        "tags": ["Projeto"]
      }
    },
    "/atividade": {
      "get": {
        "operationId": "AtividadeController_listarAtividadesGeral",
        "parameters": [
          { "name": "mes", "required": true, "in": "query", "schema": { "type": "number" } },
          { "name": "ano", "required": true, "in": "query", "schema": { "type": "number" } }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": { "type": "array", "items": { "$ref": "#/components/schemas/Atividade" } }
              }
            }
          }
        },
        "summary": "Lista todas as atividades de um ano e mes.",
        "tags": ["Atividade"]
      },
      "post": {
        "operationId": "AtividadeController_adicionarAtividade",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": { "$ref": "#/components/schemas/AdicionarAtividadeDto" }
            }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/Atividade" } }
            }
          }
        },
        "summary": "Cadastra uma atividade.",
        "tags": ["Atividade"]
      }
    },
    "/atividade/{id}": {
      "post": {
        "operationId": "AtividadeController_encontrarAtividade",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/Atividade" } }
            }
          }
        },
        "summary": "Obtem detalhes de uma atividade.",
        "tags": ["Atividade"]
      }
    },
    "/atuacao/relatorio": {
      "get": {
        "operationId": "AtuacaoController_relatorio",
        "parameters": [
          { "name": "mes", "required": true, "in": "query", "schema": { "type": "number" } },
          { "name": "ano", "required": true, "in": "query", "schema": { "type": "number" } }
        ],
        "responses": {
          "200": {
            "description": "",
            "content": {
              "application/json": {
                "schema": {
                  "type": "array",
                  "items": { "$ref": "#/components/schemas/RelatorioItemDto" }
                }
              }
            }
          }
        },
        "summary": "Obtem o relatorio de um ano e mes.",
        "tags": ["Atuacao"]
      }
    },
    "/atuacao": {
      "post": {
        "operationId": "AtuacaoController_iniciar",
        "parameters": [],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/AtuacaoDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/Atuacao" } }
            }
          }
        },
        "summary": "Inicia uma atividade.",
        "tags": ["Atuacao"]
      }
    },
    "/atuacao/{id}/fechar": {
      "post": {
        "operationId": "AtuacaoController_finalizar",
        "parameters": [
          { "name": "id", "required": true, "in": "path", "schema": { "type": "string" } }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": { "schema": { "$ref": "#/components/schemas/AtuacaoDto" } }
          }
        },
        "responses": {
          "201": {
            "description": "",
            "content": {
              "application/json": { "schema": { "$ref": "#/components/schemas/Atuacao" } }
            }
          }
        },
        "summary": "Finaliza uma atividade.",
        "tags": ["Atuacao"]
      }
    }
  },
  "info": { "title": "Controle de horas", "description": "", "version": "0.0.1", "contact": {} },
  "tags": [],
  "servers": [],
  "components": {
    "schemas": {
      "AdicionarProjetoDto": {
        "type": "object",
        "properties": {
          "nome": { "type": "string" },
          "origem": { "type": "string" },
          "cor": { "type": "string" },
          "horasMaxima": { "type": "number" }
        },
        "required": ["nome", "origem", "cor"]
      },
      "Projeto": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "nome": { "type": "string" },
          "cor": { "type": "string" },
          "origem": { "type": "string" },
          "atividades": { "type": "array", "items": { "$ref": "#/components/schemas/Atividade" } },
          "horasMaxima": { "type": "number" },
          "concluido": { "type": "boolean", "default": false },
          "stampCreate": { "format": "date-time", "type": "string" },
          "stampUpdate": { "format": "date-time", "type": "string" }
        },
        "required": [
          "id",
          "nome",
          "cor",
          "origem",
          "atividades",
          "concluido",
          "stampCreate",
          "stampUpdate"
        ]
      },
      "Atuacao": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "atividade": { "$ref": "#/components/schemas/Atividade" },
          "descricaoInicio": { "type": "string" },
          "descricaoFim": { "type": "string" },
          "inicio": { "format": "date-time", "type": "string" },
          "fim": { "format": "date-time", "type": "string" },
          "stampCreate": { "format": "date-time", "type": "string" },
          "stampUpdate": { "format": "date-time", "type": "string" }
        },
        "required": ["id", "atividade", "inicio", "stampCreate", "stampUpdate"]
      },
      "Atividade": {
        "type": "object",
        "properties": {
          "id": { "type": "string" },
          "nome": { "type": "string" },
          "descricao": { "type": "string" },
          "projeto": { "$ref": "#/components/schemas/Projeto" },
          "atuacoes": { "type": "array", "items": { "$ref": "#/components/schemas/Atuacao" } },
          "stampCreate": { "format": "date-time", "type": "string" },
          "stampUpdate": { "format": "date-time", "type": "string" }
        },
        "required": ["id", "nome", "projeto", "atuacoes", "stampCreate", "stampUpdate"]
      },
      "AdicionarAtividadeDto": {
        "type": "object",
        "properties": {
          "nome": { "type": "string" },
          "descricao": { "type": "string" },
          "projetoId": { "type": "string" }
        },
        "required": ["nome", "descricao", "projetoId"]
      },
      "RelatorioEntradaItemDto": {
        "type": "object",
        "properties": { "inicio": { "type": "string" }, "fim": { "type": "string" } },
        "required": ["inicio"]
      },
      "RelatorioItemDto": {
        "type": "object",
        "properties": {
          "dia": { "type": "number" },
          "entradas": {
            "type": "array",
            "items": { "$ref": "#/components/schemas/RelatorioEntradaItemDto" }
          }
        },
        "required": ["dia", "entradas"]
      },
      "AtuacaoDto": {
        "type": "object",
        "properties": {
          "descricao": { "type": "string" },
          "atividadeId": { "type": "string" },
          "dataHora": { "format": "date-time", "type": "string" }
        },
        "required": ["descricao", "atividadeId", "dataHora"]
      }
    }
  }
}
